<problem display_name="How many tasks" markdown="null" max_attempts="1" showanswer="never">
  <p>Есть следующий код.</p>
  <pre style="color:#000000;background:#ffffff;"><span style="color:#7f0055; font-weight:bold; ">public</span><span style="color:#7f0055; font-weight:bold; ">class</span> ThreadPoolExecutorDemo {

    <span style="color:#7f0055; font-weight:bold; ">static</span> <span style="color:#7f0055; font-weight:bold; ">class</span> ProcessRquest <span style="color:#7f0055; font-weight:bold; ">implements</span> <span style="color:#7f0055; font-weight:bold; ">Runnable</span> {
        <span style="color:#7f0055; font-weight:bold; ">private</span> <span style="color:#7f0055; font-weight:bold; ">final</span> <span style="color:#7f0055; font-weight:bold; ">int</span> id;
        <span style="color:#7f0055; font-weight:bold; ">public</span> ProcessRquest(<span style="color:#7f0055; font-weight:bold; ">int</span> id) {
            <span style="color:#7f0055; font-weight:bold; ">this</span>.id = id;
        }

        @Override
        <span style="color:#7f0055; font-weight:bold; ">public</span> <span style="color:#7f0055; font-weight:bold; ">void</span> run() {
            <span style="color:#7f0055; font-weight:bold; ">long</span> threadId = <span style="color:#7f0055; font-weight:bold; ">Thread</span>.currentThread().getId();
            
            <span style="color:#7f0055; font-weight:bold; ">System</span>.out.println(<span style="color:#2a00ff; ">"Start processing request "</span> + id + <span style="color:#2a00ff; ">" by thread "</span> + threadId);
            <span style="color:#7f0055; font-weight:bold; ">try</span> {
                <span style="color:#7f0055; font-weight:bold; ">Thread</span>.sleep(100);
            } <span style="color:#7f0055; font-weight:bold; ">catch</span> (<span style="color:#7f0055; font-weight:bold; ">InterruptedException</span> ex) {
                ex.printStackTrace();
            }
            <span style="color:#7f0055; font-weight:bold; ">System</span>.out.println(<span style="color:#2a00ff; ">"Finish processing request "</span> + id + <span style="color:#2a00ff; ">" by thread "</span> + threadId);
        }
    }

    <span style="color:#7f0055; font-weight:bold; ">public</span> <span style="color:#7f0055; font-weight:bold; ">static</span> <span style="color:#7f0055; font-weight:bold; ">void</span> main(<span style="color:#7f0055; font-weight:bold; ">String</span>[] args) {
               
        ExecutorService executor = <span style="color:#7f0055; font-weight:bold; ">new</span> ThreadPoolExecutor(
                5, <span style="color:#3f7f59; ">// core pool size</span>
                10, <span style="color:#3f7f59; ">// max pool size</span>
                100L, TimeUnit.MILLISECONDS, <span style="color:#3f7f59; ">// keep alive</span>
                <span style="color:#7f0055; font-weight:bold; ">new</span> LinkedBlockingQueue&lt;<span style="color:#7f0055; font-weight:bold; ">Runnable</span>&gt;(30), <span style="color:#3f7f59; ">// queue</span>
                <span style="color:#7f0055; font-weight:bold; ">new</span> ThreadPoolExecutor.CallerRunsPolicy()); <span style="color:#3f7f59; ">// handler</span>

        <span style="color:#7f0055; font-weight:bold; ">System</span>.out.println(<span style="color:#2a00ff; ">"Main thread id "</span> + <span style="color:#7f0055; font-weight:bold; ">Thread</span>.currentThread().getId());
        
        <span style="color:#7f0055; font-weight:bold; ">for</span> (<span style="color:#7f0055; font-weight:bold; ">int</span> i = 0; i &lt; 100; i++) {
            executor.submit(<span style="color:#7f0055; font-weight:bold; ">new</span> ProcessRquest(i));
        }

        executor.shutdown();
    }
}
  </pre>
  <br/>
  <p>Сколько задач отправленных через submit будет выполенено в данном случае?</p>
  <stringresponse answer="100" type="ci">
    <textline label="Сколько задач отправленных через submit будет выполенено в данном случае?" size="10"/>
  </stringresponse>
  <p>Если в коде изменить ThreadPoolExecutor.CallerRunsPolicy() на ThreadPoolExecutor.DiscardPolicy(), то сколько задач будет выполенено в этом случае?</p>
  <stringresponse answer="40" type="ci">
    <textline label="Если в коде изменить ThreadPoolExecutor.CallerRunsPolicy() на ThreadPoolExecutor.DiscardPolicy(), то сколько задач будет выполенено в этом случае?" size="10"/>
  </stringresponse>
</problem>
